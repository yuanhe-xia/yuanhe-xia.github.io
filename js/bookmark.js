document.addEventListener('DOMContentLoaded',()=>{'use strict';var doSaveScroll=()=>{localStorage.setItem('bookmark'+location.pathname,window.scrollY)};var scrollToMark=()=>{var top=localStorage.getItem('bookmark'+location.pathname);top=parseInt(top,10);if(!isNaN(top)&&location.hash===''){window.anime({targets:document.scrollingElement,duration:200,easing:'linear',scrollTop:top})}};var init=function(trigger){var link=document.querySelector('.book-mark-link');window.addEventListener('scroll',()=>link.classList.toggle('book-mark-link-fixed',window.scrollY===0));if(trigger==='auto'){window.addEventListener('beforeunload',doSaveScroll);window.addEventListener('pjax:send',doSaveScroll)}link.addEventListener('click',()=>{doSaveScroll();window.anime({targets:link,duration:200,easing:'linear',top:-30,complete:()=>{setTimeout(()=>{link.style.top=''},400)}})});scrollToMark();window.addEventListener('pjax:success',scrollToMark)};init(CONFIG.bookmark.save)});